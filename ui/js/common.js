(function(){'use strict';var s=document.body.querySelector('header'),q=s.querySelector('.nav-icon'),u=s.querySelector('nav'),S=u.querySelectorAll('a'),o=document.body.querySelector('main'),e=(function(){var t=!1;try{window.addEventListener('test',null,Object.defineProperty({},'passive',{get:function(){t=!0}}))}catch(n){};return t})()?{passive:!0}:undefined;function l(t){function n(e){if(t(e))window.requestAnimationFrame(n)};window.requestAnimationFrame(n)};function A(t,n){var e=null;l(function(i){if(!e)e=i;if(i-e<n){t(i-e);return!0};return!1})};function r(t,n,e,i){if(typeof t!=='function')return;var o=null;l(function(r){if(!o)o=r;if(r-o<n)return!0;t.apply(e,i);return!1})};function M(t,n,e){var o=new Array(t);for(var i=0;i<t;++i)o[i]=new n(e);return o};function b(t,n,e,i){t/=i/2;if(t<1)return(t*t*(e/2))+n;--t;return(((t*(t-2))-1)*(-e/2))+n};function a(t,n){return Math.random()*(n-t+1)+t};function v(t,n){return Math.floor(a(t,n))};function E(){return window.innerWidth<635};function g(){if(window.pageYOffset!==undefined)return window.pageYOffset;return(document.documentElement||document.body.parentNode||document.body).scrollTop};function L(t,n){var e=g();A(function(i){var o=b(i,e,t-e,n);window.scroll(0,Math.round(o))},n)};function w(t,n,e,i){if(!Array.isArray(n))n=[n];function o(r){n.forEach(function(n){t.removeEventListener(n,o,i)});e(r)};n.forEach(function(n){if(typeof n==='string')t.addEventListener(n,o,i)})};function c(){s.classList.remove('open');var t=g();document.body.classList.toggle('scrolled',t&&t>=Math.max(s.offsetHeight,40)-u.offsetHeight)};c();window.addEventListener('scroll',c,e);function h(t,n,e){this.i$=t;this.D$=n;this.a$=e;this.w$=Math.max(this.i$.getAttribute('width'),this.i$.getAttribute('height'));this.i$.style.opacity=1};h.prototype={constructor:h,C$:function(){if(E()&&this.w$!==4)return;r(this.u$,this.a$,this)},H$:function(t,n){if(E()&&this.w$!==4)return;r(this.f$,this.a$,this,[t,n])},u$:function(){this.S$(0,0);this.i$.style.fill='white'},f$:function(t,n){this.S$(v(-t,t),v(-n,n));this.i$.style.fill=this.D$},S$:function(t,n){var e='translate('+t+'px, '+n+'px)';this.i$.style.webkitTransform=e;this.i$.style.transform=e}};function f(t,n){this.v$=!1;this.l$=!1;this.a$=n;var i=t.querySelector('.hover');i.addEventListener('mouseover',this.O$.bind(this),e);i.addEventListener('mouseout',this.k$.bind(this),e);var r=i.getAttribute('fill'),o=t.querySelectorAll('g > rect:not(.hover)');this.p$=Array.prototype.map.call(o,function(t){return new h(t,r,5*v(0,o.length))})};f.prototype={constructor:f,A$:function(t,n,e){r(function(){this.f$(t,n);if(e){r(function(){this.v$=!0;this.u$();if(this.a$>500)this.a$+=500},600,this)}else{r(this.u$,600,this)}},this.a$+(e?250:0),this)},u$:function(){if(this.l$)return;this.p$.forEach(function(t){t.C$()})},f$:function(t,n){if(this.l$)return;this.p$.forEach(function(e){e.H$(t,n)})},O$:function(){if(!this.v$)return;this.f$(10,50);this.l$=!0},k$:function(){if(!this.v$)return;this.l$=!1;this.u$()}};var T=Array.prototype.map.call(s.querySelectorAll('.logo > h1 > svg g'),function(t,n){var e=new f(t,125*n);e.A$(60,60,!0);return e});function p(){T.forEach(function(t){t.A$(0,5)});r(p,5000)};if(!/\bno-pulse\b/.test(window.location.search))r(p,5000);var n=document.body.appendChild(document.createElement('canvas')).getContext('2d');function y(){n.canvas.width=n.canvas.offsetWidth;n.canvas.height=n.canvas.offsetHeight};y();window.addEventListener('resize',y,e);function d(){this.m$()};d.prototype={constructor:d,P$:function(){if(this._x>-this._s&&this._x<n.canvas.width+this._s&&this._y>-this._s&&this._y<n.canvas.height+this._s){n.moveTo(this._x,this._y);n.arc(this._x,this._y,this._s,0,2*Math.PI)};this._x+=this.N$;this._y+=this.M$;if(this._x>n.canvas.width+this._s||this._y<-this._s)this.m$()},m$:function(){this._s=a(0.5,3);this._x=a(-n.canvas.width,0);this._y=a(n.canvas.height,n.canvas.height*2);this.N$=a(0.5,3);this.M$=a(-0.5,-3)}};if(!/\bno-background\b/.test(window.location.search)){var x=M(50,d);r(l,1000,null,[function(){n.fillStyle='hsla(0, 0%, 10%, 0.5)';n.fillRect(0,0,n.canvas.width,n.canvas.height);n.beginPath();n.fillStyle='white';x.forEach(function(t){t.P$()});n.fill();return!0}])};q.addEventListener('click',function(){s.classList.toggle('open')},e);function m(){s.classList.remove('open')};o.addEventListener('click',m,e);u.addEventListener('click',m,e);var i={g$:function(t){for(var n in i.n$){if(t===i.n$[n])return!0};return!1},E$:function(t,n){if(!i.g$(t))return[];return Array.prototype.map.call(n.getElementsByTagName(t.e$),function(n){for(var e in t.o$){if(n[e]!==t.o$[e])return null};return n.getAttribute(t.r$)}).filter(function(t){return typeof t==='string'})},L$:function(t,n,o){if(!i.g$(t)){if(typeof o==='function')o(!0);return};if(!Array.isArray(n))n=[n];else n.reverse();function r(){var s=n.pop();if(!s){if(typeof o==='function')o();return};var c=Array.prototype.some.call(document.getElementsByTagName(t.e$),function(n){return n[t.r$]&&n[t.r$].indexOf(s)>=0});if(c){r();return};var i=t.h$.appendChild(document.createElement(t.e$));i.addEventListener('load',r,e);i.addEventListener('error',function(){if(typeof o==='function')o(!0)},e);for(var a in t.o$)i[a]=t.o$[a];i.setAttribute(t.r$,s)};r()},n$:{d$:{e$:'script',o$:{'async':!0},r$:'src',h$:document.body,},b$:{e$:'link',o$:{'rel':'stylesheet'},r$:'href',h$:document.head,},R$:{e$:'a',o$:{},r$:'href',h$:document.body}}};var t={B$:new DOMParser,t$:null,q$:function(n,r){if(!n)return;if(!t.t$){t.t$=new XMLHttpRequest;t.t$.timeout=5000;t.t$.addEventListener('load',function(){if(t.t$.status!==200){window.location.reload();return};var n=t.B$.parseFromString(t.t$.response,'text/html');if(!n){window.location.reload();return};document.title=n.title;i.L$(i.n$.b$,i.E$(i.n$.b$,n),function(){var e=n.querySelector('main');o.parentNode.replaceChild(e,o);o=e;if(t.c$){t.c$.remove();t.c$=null};Array.prototype.forEach.call(document.getElementsByTagName(i.n$.d$.e$),function(t){if(t.src&&t.src.indexOf('/pages/')>=0)t.remove()});i.L$(i.n$.d$,i.E$(i.n$.d$,n));t.T$(o);c()})},e);w(t.t$,['error','timeout'],function(){window.location.reload()},e);window.addEventListener('unload',function(){if(t.t$.readyState!==XMLHttpRequest.UNSENT&&t.t$.readyState!==XMLHttpRequest.DONE)t.t$.abort()},e)};if(o.classList.contains('loading')){t.t$.abort();t.t$.open('GET',n,!0);t.t$.send()}else{w(o,'transitionend',function(){o.textContent='';c();t.t$.open('GET',n,!0);t.t$.send()},e)};L(0,600);if(!t.c$){t.c$=document.body.appendChild(document.createElement('div'));t.c$.classList.add('spinner')};o.classList.add('loading');document.title='Ahmad Almasri \/\/ Loading';if(r)window.history.pushState({url:n},null,n);Array.prototype.forEach.call(S,function(t){t.classList.toggle('selected',t.href===n)})},T$:function(n){Array.prototype.forEach.call(n.getElementsByTagName(i.n$.R$.e$),function(n){if(n.origin!==window.location.origin||n.classList.contains('no-ajax'))return;n.addEventListener('click',function(){event.preventDefault();t.q$(this.href,!0)})})},c$:null};window.addEventListener('popstate',function(n){if(n&&n.state)t.q$(n.state.url);else window.history.replaceState({url:window.location.href},null,window.location.href)},e);window.addEventListener('beforeunload',function(){window.history.replaceState(null,null,window.location.href)},e);t.T$(document.body);if(!window.history.state)window.history.replaceState({url:window.location.href},null,window.location.href)})();